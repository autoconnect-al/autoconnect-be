generator client {
  provider = "prisma-client-js"
  // output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
}

model Article {
  id          String    @id @db.VarChar(100)
  dateCreated DateTime  @db.DateTime(0)
  dateUpdated DateTime? @db.DateTime(0)
  deleted     Boolean   @default(false)
  title       String    @db.VarChar(255)
  category    String    @db.VarChar(100)
  data        Json?
  image       String?   @db.VarChar(255)
  appName     String?   @db.VarChar(255)
}

model car_detail {
  id                                  BigInt    @id @unique(map: "car_detail_id_uindex") @db.UnsignedBigInt
  dateCreated                         DateTime? @db.DateTime(0)
  dateUpdated                         DateTime? @db.DateTime(0)
  deleted                             Boolean   @default(false)
  post_id                             BigInt?   @db.UnsignedBigInt
  make                                String?   @db.VarChar(255)
  model                               String?   @db.VarChar(255)
  variant                             String?   @db.VarChar(255)
  registration                        String?   @db.VarChar(4)
  mileage                             Float?    @db.Float
  transmission                        String?   @db.VarChar(255)
  fuelType                            String?   @db.VarChar(255)
  engineSize                          String?   @db.VarChar(255)
  drivetrain                          String?   @db.VarChar(255)
  seats                               Int?
  numberOfDoors                       Int?
  bodyType                            String?   @db.VarChar(255)
  published                           Boolean?  @default(false)
  customsPaid                         Boolean?  @default(false)
  options                             String?   @db.LongText
  sold                                Boolean?  @default(false)
  price                               Float?    @default(0) @db.Float
  emissionGroup                       String?   @db.VarChar(10)
  type                                String    @default("car") @db.VarChar(20)
  contact                             Json?
  priceVerified                       Boolean?  @default(false)
  mileageVerified                     Boolean?  @default(false)
  post_car_detail_post_idTopost       post?     @relation("car_detail_post_idTopost", fields: [post_id], references: [id], onDelete: Cascade, map: "car_detail_post_id_fk")
  post_post_car_detail_idTocar_detail post[]    @relation("post_car_detail_idTocar_detail")

  @@index([post_id], map: "car_detail_post_id_fk")
  @@index([deleted, published, sold, type], map: "deleted")
  @@index([make, model, variant], map: "make")
  @@index([mileage, price, transmission, fuelType, bodyType], map: "mileage")
  @@index([registration], map: "registration")
}

model car_make_model {
  Make      String? @db.VarChar(50)
  Model     String? @db.VarChar(50)
  id        Int     @id @db.UnsignedInt
  type      String  @default("car") @db.VarChar(25)
  isVariant Boolean @default(false)
}

model import_status {
  id                Int       @id
  deleted           Boolean   @default(false)
  dateCreated       DateTime? @db.DateTime(0)
  dateUpdated       DateTime? @db.DateTime(0)
  entity            String    @db.VarChar(10)
  status            String    @db.VarChar(40)
  progress          String    @db.VarChar(20)
  vendorAccountName String?   @db.VarChar(100)
}

model logs {
  id        Int       @id @default(autoincrement())
  timestamp DateTime? @db.DateTime(0)
  logger    String?   @db.VarChar(256)
  level     String?   @db.VarChar(32)
  message   String?   @db.LongText
  thread    Int?
  file      String?   @db.VarChar(255)
  line      String?   @db.VarChar(10)
}

model post {
  id                                        BigInt       @id @db.UnsignedBigInt
  dateCreated                               DateTime     @db.DateTime(0)
  dateUpdated                               DateTime?    @db.DateTime(0)
  deleted                                   Boolean      @default(false)
  caption                                   String?      @db.LongText
  createdTime                               String?      @db.VarChar(100)
  sidecarMedias                             Json?
  vendor_id                                 BigInt       @db.UnsignedBigInt
  live                                      Boolean      @default(false)
  likesCount                                Int          @default(0)
  viewsCount                                Int          @default(0)
  cleanedCaption                            String?      @db.LongText
  car_detail_id                             BigInt?      @db.UnsignedBigInt
  revalidate                                Boolean?     @default(false)
  promotionTo                               Int?
  highlightedTo                             Int?
  renewTo                                   Int?
  renewInterval                             String?      @db.VarChar(10)
  renewedTime                               Int?
  mostWantedTo                              Int?
  car_detail_car_detail_post_idTopost       car_detail[] @relation("car_detail_post_idTopost")
  car_detail_post_car_detail_idTocar_detail car_detail?  @relation("post_car_detail_idTocar_detail", fields: [car_detail_id], references: [id], onDelete: Cascade, map: "car_detail___fk")
  vendor                                    vendor       @relation(fields: [vendor_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "post_FK")

  @@index([car_detail_id], map: "car_detail___fk")
  @@index([dateUpdated, deleted, live], map: "dateUpdated")
  @@index([vendor_id], map: "post_FK")
}

model potential_vendor {
  id          Int       @id
  status      String    @db.VarChar(10)
  dateCreated DateTime? @db.DateTime(0)
  dateUpdated DateTime? @db.DateTime(0)
  deleted     Boolean   @default(false)
}

model role {
  id          Int       @id @default(autoincrement())
  dateCreated DateTime  @db.DateTime(0)
  dateUpdated DateTime? @db.DateTime(0)
  deleted     Boolean
  name        String    @db.VarChar(100)
}

model search {
  id             BigInt    @id @db.UnsignedBigInt
  dateCreated    DateTime  @db.DateTime(0)
  dateUpdated    DateTime? @db.DateTime(0)
  deleted        String    @default("0") @db.VarChar(100)
  caption        String?   @db.LongText
  cleanedCaption String    @db.LongText
  createdTime    BigInt?   @db.UnsignedBigInt
  sidecarMedias  Json?
  likesCount     Int?      @db.UnsignedInt
  viewsCount     Int?      @db.UnsignedInt
  vendorContact  Json?
  biography      String?   @db.Text
  accountName    String?   @db.VarChar(100)
  vendorId       BigInt    @db.UnsignedBigInt
  profilePicture String?   @db.MediumText
  make           String?   @db.VarChar(100)
  model          String?   @db.VarChar(100)
  variant        String?   @db.VarChar(255)
  registration   Int?      @db.Year
  mileage        Int?      @db.UnsignedInt
  price          Int?      @db.UnsignedInt
  transmission   String?   @db.VarChar(100)
  fuelType       String?   @db.VarChar(100)
  engineSize     Decimal?  @db.Decimal(10, 0)
  drivetrain     String?   @db.VarChar(100)
  seats          Int?      @db.UnsignedTinyInt
  numberOfDoors  Int?      @db.UnsignedTinyInt
  bodyType       String?   @db.VarChar(100)
  emissionGroup  String?   @db.VarChar(100)
  contact        Json?
  customsPaid    Boolean?
  options        Json?
  sold           Boolean?
  type           String?   @db.VarChar(100)
  promotionTo    Int?      @db.UnsignedInt
  highlightedTo  Int?      @db.UnsignedInt
  renewTo        Int?      @db.UnsignedInt
  renewInterval  String?   @db.VarChar(100)
  renewedTime    Int?      @db.UnsignedInt
  mostWantedTo   Int?      @db.UnsignedInt
  minPrice       Int?
  maxPrice       Int?
  canExchange    Boolean?  @default(false)
}

model user {
  id             BigInt    @id @default(autoincrement())
  name           String    @db.VarChar(255)
  username       String    @db.VarChar(255)
  blocked        Boolean
  attemptedLogin Int
  password       String    @db.VarChar(255)
  email          String    @db.VarChar(255)
  deleted        Boolean
  dateCreated    DateTime  @db.DateTime(0)
  dateUpdated    DateTime? @db.DateTime(0)
  profileImage   String?   @db.LongText
}

model password_reset_token {
  id        BigInt   @id @default(autoincrement())
  userId    BigInt
  token     String   @db.VarChar(255)
  expiresAt DateTime
  used      Boolean  @default(false)

  @@index([token])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model user_role {
  user_id BigInt
  role_id Int

  @@id([user_id, role_id])
  @@unique([user_id, role_id], map: "user_role_user_id_IDX")
  @@index([user_id], map: "user_role_FK")
  @@index([role_id], map: "user_role_FK_1")
  @@ignore
}

model vendor {
  id             BigInt    @id @db.UnsignedBigInt
  dateCreated    DateTime  @db.DateTime(0)
  dateUpdated    DateTime? @db.DateTime(0)
  deleted        Boolean   @default(false)
  contact        Json?
  accountName    String?   @db.VarChar(100)
  profilePicture String?   @db.LongText
  accountExists  Boolean   @default(true)
  initialised    Boolean?
  biography      String?   @db.VarChar(255)
  post           post[]

  @@index([dateUpdated], map: "dateUpdated")
  @@index([deleted, accountName, accountExists], map: "deleted")
}

